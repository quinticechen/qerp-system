
# 紡織業 ERP 系統產品需求文件 (PRD)

## 1. 簡介
本文件旨在詳細定義紡織業 ERP 系統的新版本功能與需求，以支援公司從產品發布、客戶訂單、採購管理、庫存入庫（特別是布卷計重）、出貨到訂單完成的核心業務流程。系統的目標是提升營運效率、精確庫存管理、及時預警，並支援多使用者協作。

## 2. 目標與願景
- **目標：** 建立一個整合性的 ERP 系統，自動化並優化紡織品從訂單到出貨的全流程管理，實現精確的庫存控制與業務協作。
- **願景：** 成為公司業務、倉儲和管理人員不可或缺的數位化工具，顯著降低人為錯誤，提升客戶滿意度，並透過數據驅動決策。

## 3. 核心使用者與角色

### 業務
- 負責新產品的發布與管理
- 接收客戶訂單並建立系統記錄
- 向工廠/供應商下達採購單
- 監控產品庫存，尤其關注低庫存預警
- 追蹤訂單狀態

### 助理
- 協助業務管理訂單，進行訂單的建立、查詢與狀態更新
- 協助管理客戶和工廠/供應商資料
- 負責系統中基礎數據的維護

### 會計
- 追蹤帳款，核對客戶付款狀態
- 更新訂單的付款狀態
- 查看訂單及出貨記錄以進行財務核算

### 倉庫管理員
- 負責布料的入庫管理（按布卷計重）
- 管理倉庫內布料的存放位置
- 執行出貨操作，選擇並扣減庫存布卷
- 確保庫存數據的準確性

### 高層
- 需要看到業務目前每月的出單記錄
- 需要查閱關鍵營運數據與報表
- 管理使用者帳號及權限

## 4. 產品功能需求 (PFR)

### 4.1 產品管理
- **PFR-PM-001：** 系統應允許業務建立新的布料產品型號
  - 屬性：產品名稱、類別（預設為「布料」）、顏色、顏色代碼、主要計量單位（預設為「KG」）
- **PFR-PM-002：** 系統應支援查詢、編輯和刪除現有產品資訊

### 4.2 客戶與工廠/供應商管理
- **PFR-C&F-001：** 系統應允許業務或助理建立、查詢、編輯和刪除客戶資料（名稱、聯絡方式、地址）
- **PFR-C&F-002：** 系統應允許業務或助理建立、查詢、編輯和刪除工廠/供應商資料（名稱、聯絡方式、地址）

### 4.3 訂單管理 (客戶訂單)
- **PFR-OM-001：** 系統應允許業務或助理為客戶建立新的訂單
  - 自動生成訂單編號
  - 關聯客戶資料
  - 包含訂單狀態（待處理、已確認、部分出貨、已完成、已取消）、付款狀態（未付款、部分付款、已付款）、出貨狀態（未開始、部分出貨、已出貨）
  - 允許添加訂單備註

- **PFR-OM-002：** 訂單應支援添加多個產品明細
  - 選擇產品型號
  - 輸入客戶要求的規格（如：寬度、克重、成分等）
  - 輸入訂購的總數量（公斤）及預計總卷數
  - 輸入單價（每公斤）

- **PFR-OM-003：** 系統應支援查詢、編輯（在特定狀態下）和取消訂單
- **PFR-OM-004：** 訂單狀態應根據出貨及付款進度自動更新
- **PFR-OM-005：** 會計應能查詢所有訂單的付款狀態，並有權限更新訂單的付款狀態

### 4.4 採購管理 (業務向工廠叫貨)
- **PFR-PM-001：** 系統應允許業務建立新的採購單（PO）
  - 自動生成採購單編號
  - 關聯工廠/供應商資料
  - 可選擇性地關聯客戶訂單
  - 包含下單日期、預計到貨日期
  - 包含採購單狀態（待確認、已下單、部分到貨、已完成、已取消）

- **PFR-PM-002：** 採購單應支援添加多個產品明細
  - 選擇產品型號
  - 輸入採購的規格
  - 輸入採購的總數量（公斤）及總卷數
  - 輸入採購單價

- **PFR-PM-003：** 系統應支援查詢、編輯（在特定狀態下）和取消採購單

### 4.5 庫存管理 (入庫)
- **PFR-IM-001：** 系統應允許倉庫管理員建立新的入庫批次記錄
  - 關聯採購單
  - 記錄實際到貨日期

- **PFR-IM-002：** 入庫批次應支援逐卷記錄布卷明細
  - 選擇產品型號
  - 選擇存放倉庫及輸入貨架位置
  - 為每卷布料輸入獨立的布卷編號
  - 記錄每卷布料的實際重量（公斤）
  - 記錄布卷的品質等級（如：A級、B級、瑕疵品）

- **PFR-IM-003：** 系統應自動計算並顯示總入庫數量和總卷數
- **PFR-IM-004：** 系統應支援查詢當前庫存量（按產品、倉庫、貨架、布卷）
- **PFR-IM-005：** 系統應能夠追溯每卷布料的歷史入庫資訊

### 4.6 出貨管理
- **PFR-SM-001：** 系統應允許倉庫管理員建立新的出貨單
  - 自動生成出貨單編號
  - 關聯客戶訂單
  - 記錄實際出貨日期

- **PFR-SM-002：** 出貨單應支援從現有庫存布卷中選擇要出貨的布料
  - 系統應展示符合訂單需求的可用布卷清單
  - 允許選擇整卷布料出貨
  - 允許輸入裁剪後的布卷出貨重量（公斤），並自動更新原布卷的當前庫存量

- **PFR-SM-003：** 系統應自動計算本次出貨的總重量（公斤）和總卷數
- **PFR-SM-004：** 系統應自動記錄出貨歷史，包含產品、數量、客戶和日期
- **PFR-SM-005：** 系統應在出貨後自動更新關聯訂單的「出貨狀態」（部分出貨/已出貨）

### 4.7 庫存預警
- **PFR-SA-001：** 系統應允許業務為特定產品設定庫存閾值（公斤）
- **PFR-SA-002：** 當某產品的總可用庫存量（所有布卷的當前剩餘重量之和）低於設定的閾值時，系統應自動發送提醒通知給相關業務人員（如：站內通知、郵件）

### 4.8 報表與分析
- **PFR-RP-001：** 系統應提供高層查看業務每月出單紀錄的功能
  - 可按時間範圍（如：月份）篩選
  - 顯示每位業務的訂單總數、總金額和總重量
  - 可進一步鑽取查看詳細訂單列表

- **PFR-RP-002：** 系統應提供高層查看其他關鍵營運數據的儀表板（例如：總庫存量、已出貨量、未付款訂單總額等）

### 4.9 使用者與權限管理
- **PFR-UM-001：** 高層應能夠建立、編輯和禁用使用者帳號
- **PFR-UM-002：** 系統應支援基於角色的權限管理（例如：業務、助理、會計、倉庫管理員、高層），限制使用者對不同功能的存取權限
- **PFR-UM-003：** 所有操作應記錄操作者使用者ID及時間戳

## 5. 非功能性需求 (NFR)

### 性能
系統應具備良好的響應速度，在典型負載下，頁面加載時間不超過3秒，關鍵操作響應時間不超過2秒。

### 安全性
- 使用者身份驗證與授權
- 數據加密傳輸
- 防止常見的Web安全漏洞（如SQL注入、XSS）
- 資料備份與恢復機制

### 可靠性
系統應穩定運行，年度故障時間不超過0.1%。

### 可用性
具備直觀的使用者界面，易於學習和操作。

### 可擴展性
系統架構應支援未來業務增長和功能擴展。

### 可維護性
程式碼應模組化、具備良好文件，易於維護和升級。

### 數據一致性
確保所有關聯數據在操作後保持一致性，例如出貨後庫存數量正確更新。

## 6. 技術考量

### 資料庫
PostgreSQL (支援 UUID 作為主鍵，JSONB 儲存彈性資料，強大的關係型資料管理能力)

### 後端框架
Python (Django/FastAPI) 或 Node.js (Express/NestJS)

### 前端框架
React with TypeScript (提供豐富且互動性強的用戶界面)

### 部署
雲端平台 (AWS, GCP, Azure) 或內部伺服器

## 7. 未來潛在功能 (Roadmap)

### 移動應用支援
業務或倉庫人員可透過手機端進行部分操作

### 與財務系統整合
自動生成會計憑證

### 條碼/RFID 掃描
提升入庫與出貨效率

### 多單位換算
支援公斤、碼、米等單位間的轉換
